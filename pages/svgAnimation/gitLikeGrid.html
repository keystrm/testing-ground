<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Blinking SVG Grid</title>
</head>
<body>

<button id="downloadBtn">Download SVG</button>

<div id="svgContainer"></div>

<script>
    const svgNS = "http://www.w3.org/2000/svg";

    // Create SVG element
    let svgElem = document.createElementNS(svgNS, "svg");
    svgElem.setAttribute("width", "200");
    svgElem.setAttribute("height", "200");
    svgElem.setAttribute("viewBox", "0 0 200 200");
    svgElem.setAttribute("xmlns", svgNS);

    // Create grid of rectangles
    for (let i = 0; i < 10; i++) {
        for (let j = 0; j < 10; j++) {
            let rect = document.createElementNS(svgNS, "rect");
            rect.setAttribute("x", i * 20);
            rect.setAttribute("y", j * 20);
            rect.setAttribute("width", "18");
            rect.setAttribute("height", "18");
            rect.setAttribute("fill", "#216e39");
            rect.classList.add("rect");

            // Add blinking animation to each rectangle
            let animate = document.createElementNS(svgNS, "animate");
            animate.setAttribute("attributeType", "XML");
            animate.setAttribute("attributeName", "opacity");
            animate.setAttribute("values", "0.2;1;0.2");
            animate.setAttribute("dur", "1s");
            animate.setAttribute("repeatCount", "indefinite");
            animate.setAttribute("begin", `${Math.random()}s`); // random start for blinking

            rect.appendChild(animate);
            svgElem.appendChild(rect);
        }
    }

    // Append the SVG to the container
    document.getElementById("svgContainer").appendChild(svgElem);

    // Function to download the SVG
    function downloadSVG() {
        let data = new XMLSerializer().serializeToString(svgElem);
        let svgBlob = new Blob([data], {type:"image/svg+xml;charset=utf-8"});
        let svgUrl = URL.createObjectURL(svgBlob);
        let downloadLink = document.createElement("a");
        downloadLink.href = svgUrl;
        downloadLink.download = "blinking-grid.svg";
        document.body.appendChild(downloadLink);
        downloadLink.click();
        document.body.removeChild(downloadLink);
    }

    // Add event listener to button
    document.getElementById("downloadBtn").addEventListener("click", downloadSVG);
</script>

</body>
</html>
